<!DOCTYPE html>
<html>
<head>
    <title>Proxy Browser</title>
    <style>
        body { background: #000; color: #0f0; font-family: monospace; margin: 20px; }
        input { width: 70%; padding: 10px; background: #111; color: #0f0; border: 1px solid #0f0; }
        button { padding: 10px 20px; background: #0f0; color: #000; border: none; cursor: pointer; }
        iframe { width: 100%; height: 70vh; border: 1px solid #0f0; margin-top: 20px; }
        .status { padding: 10px; background: #111; margin: 10px 0; }
    </style>
</head>
<body>
    <h1>ðŸš€ Proxy Browser</h1>
    <input id="url" placeholder="https://example.com" value="https://www.google.com">
    <button onclick="load()">Load</button>
    <div class="status" id="status">Ready</div>
    <iframe id="frame"></iframe>

    <script>
        const SERVER = 'https://proxy-server-ckjw.onrender.com/proxy';
        
        async function load() {
            let url = document.getElementById('url').value.trim();
            if (!url) return;
            
            if (!url.startsWith('http')) url = 'https://' + url;
            
            document.getElementById('status').textContent = 'Loading...';
            
            try {
                const response = await fetch(`${SERVER}?url=${encodeURIComponent(url)}`);
                if (!response.ok) throw new Error(`HTTP ${response.status}`);
                
                const html = await response.text();
                
                document.getElementById('frame').srcdoc = `
                    <!DOCTYPE html>
                    <html>
                    <head>
                        <base href="${url}">
                        <style>body { margin: 20px; }</style>
                    </head>
                    <body>${html}</body>
                    </html>
                `;
                
                document.getElementById('status').textContent = 'âœ… Loaded';
            } catch(error) {
                document.getElementById('status').textContent = 'âŒ Error: ' + error.message;
            }
        }
        
        document.getElementById('url').onkeypress = e => e.key === 'Enter' && load();
    </script>
</body>
</html>
